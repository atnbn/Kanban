<section>
  <h1 [ngClass]="{ white: darkmode }">Kanban</h1>
  <div class="login-form">
    <form [formGroup]="userForm" (ngSubmit)="createUser()">
      <h2 [ngClass]="{ white: darkmode }">Signup</h2>

      <div class="label-error-con">
        <label [ngClass]="{ white: darkmode }">Username</label>
        <mat-error
          minlength="4"
          *ngIf="
            checkValidator('username', 'minlength') ||
            checkValidator('username', 'required') ||
            checkCustomValidator('username', 'invalidUsername')
          "
          class="error"
        >
          Please add a Username with atleast 3 characters
        </mat-error>
      </div>
      <input formControlName="username" type="text" />
      <div class="label-error-con">
        <label [ngClass]="{ white: darkmode }">Email</label>
        <mat-error
          *ngIf="
            this.errorMessage !== '' ||
            checkValidator('email', 'email') ||
            checkValidator('email', 'required') ||
            checkCustomValidator('email', 'invalidEmail')
          "
          class="error"
        >
          {{ this.errorMessage || "Please enter a valid email" }}
          <img class="alert-svg" src="/assets/images/alert-svgrepo-com.svg" />
        </mat-error>
      </div>
      <input formControlName="email" type="email" />
      <div class="label-error-con">
        <label [ngClass]="{ white: darkmode }">Password</label>
        <mat-error
          class="error"
          *ngIf="
            checkValidator('password', 'minlength') ||
            checkValidator('password', 'required') ||
            checkCustomValidator('password', 'invalidPassword')
          "
          >Please enter a Password with atleast 7 characters</mat-error
        >
      </div>
      <input formControlName="password" type="password" />
      <div class="label-error-con">
        <label [ngClass]="{ white: darkmode }">confirm password</label>
        <mat-error
          class="error"
          *ngIf="
            this.userForm.controls['password'].value !==
            this.userForm.controls['confirmedPassword'].value
          "
          >Password does not match
        </mat-error>
      </div>

      <input formControlName="confirmedPassword" type="password" />

      <button
        type="submit"
        [disabled]="userForm.invalid"
        [ngClass]="{ white: darkmode, 'invalid-button': userForm.invalid }"
      >
        Register
      </button>
    </form>

    <div class="remember-con">
      <input type="checkbox" class="remember-checkbox" />
      <p [ngClass]="{ white: darkmode }">Remember me</p>
    </div>
    <p
      style="cursor: pointer"
      routerLink="/"
      [ngClass]="{ whit: darkmode }"
      class="create-acc"
    >
      Already have an account ? Login
    </p>
  </div>
</section>
