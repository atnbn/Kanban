<app-spinner *ngIf="isLoading"></app-spinner>
<section>
  <div class="over-con">
    <form [formGroup]="formGroup" (ngSubmit)="createUser()">
      <img class="logo" src="assets/images/logo-light.svg" />
      <img
        class="setting-img"
        (click)="triggerLanguage()"
        src="assets/images/icons8-settings (1).svg"
      />

      <h2 [ngClass]="{ white: darkmode }">
        {{ "signup.title" | translate }}
      </h2>

      <div class="label-error-con">
        <label [ngClass]="{ white: darkmode }">{{
          "signup.username" | translate
        }}</label>
        <mat-error
          minlength="4"
          *ngIf="
            checkValidator('username', 'minlength') ||
            checkValidator('username', 'required') ||
            checkCustomValidator('username', 'invalidUsername')
          "
          class="error"
        >
          {{ "signup.errors.usernameError" | translate }}
        </mat-error>
      </div>
      <input formControlName="username" type="text" />
      <div class="label-error-con">
        <label [ngClass]="{ white: darkmode }">{{
          "signup.email" | translate
        }}</label>
        <mat-error
          *ngIf="
            this.errorMessage !== '' ||
            checkValidator('email', 'email') ||
            checkValidator('email', 'required') ||
            checkCustomValidator('email', 'invalidEmail')
          "
          class="error"
        >
          {{ this.errorMessage || "signup.errors.emailError" | translate }}
          <img class="alert-svg" src="/assets/images/alert-svgrepo-com.svg" />
        </mat-error>
      </div>
      <input formControlName="email" type="email" />
      <div class="label-error-con">
        <label [ngClass]="{ white: darkmode }">{{
          "signup.password" | translate
        }}</label>
        <mat-error
          class="error"
          *ngIf="
            checkValidator('password', 'minlength') ||
            checkValidator('password', 'required') ||
            checkCustomValidator('password', 'invalidPassword')
          "
          >{{ "signup.errors.passwordError" | translate }}</mat-error
        >
      </div>
      <input formControlName="password" type="password" />
      <div class="label-error-con">
        <label [ngClass]="{ white: darkmode }">{{
          "signup.confirmPassword" | translate
        }}</label>
        <mat-error
          class="error"
          *ngIf="
            this.formGroup.controls['password'].value !==
            this.formGroup.controls['confirmedPassword'].value
          "
          >{{ "signup.errors.confirmPasswordError" | translate }}
        </mat-error>
      </div>

      <input formControlName="confirmedPassword" type="password" />

      <button
        type="submit"
        [disabled]="formGroup.invalid"
        [ngClass]="{ white: darkmode, 'invalid-button': formGroup.invalid }"
      >
        {{ "signup.button" | translate }}
      </button>
      <div>
        <div class="remember-con">
          <input type="checkbox" class="remember-checkbox" />
          <p [ngClass]="{ white: darkmode }">
            {{ "signup.rememberMe" | translate }}
          </p>
        </div>
        <p
          style="cursor: pointer"
          routerLink="/"
          [ngClass]="{ whit: darkmode }"
          class="create-acc"
        >
          {{ "signup.alreadyHaveAccount" | translate }}
        </p>
      </div>
    </form>
    <div class="img-con-right">
      <img class="img-right" src="assets/images/login/kanbanimg.png" alt="" />
    </div>
  </div>
</section>

<!-- <app-popup [type]="'language'" (closePopUps)="triggerLanguage()"></app-popup> -->
<app-language *ngIf="language"></app-language>
